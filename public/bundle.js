!function t(e,n,r){function a(i,c){if(!n[i]){if(!e[i]){var f="function"==typeof require&&require;if(!c&&f)return f(i,!0);if(o)return o(i,!0);var u=new Error("Cannot find module '"+i+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[i]={exports:{}};e[i][0].call(l.exports,function(t){var n=e[i][1][t];return a(n?n:t)},l,l.exports,t,e,n,r)}return n[i].exports}for(var o="function"==typeof require&&require,i=0;i<r.length;i++)a(r[i]);return a}({1:[function(t,e,n){function r(t,e){var n={event:t,data:e};i.send(JSON.stringify(n))}function a(t){var e=c[t];if(!e)return null;if("shift"==e)return l=!0,null;if("ctrl"==e)return s=!0,null;if("alt"==e)return p=!0,null;var n="";return l&&(n+="shift-"),s&&(n+="ctrl-"),p&&(n+="alt-"),n+e}function o(t){for(var e=t.frame,n=u.createImageData(t.width,t.height),r=0,a=0,o=t.width*t.height*4;o>a;++a)a%4==3?n.data[a]=255:(n.data[a]=e[r],++r);u.putImageData(n,t.x,t.y)}var i=new SockJS("/ws"),c=t("./keymap"),f=document.getElementById("canvas-screen"),u=f.getContext("2d"),l=!1,s=!1,p=!1;$("#canvas-screen").mousedown(function(t){t.preventDefault();var e=$(this).offset(),n=(t.pageX-e.left).toFixed(0),a=(t.pageY-e.top).toFixed(0),o=t.which;3==o&&(o=4);var i={x:n,y:a,button:o};r("pointer",i)}),$("#canvas-screen").mouseup(function(t){t.preventDefault();var e=$(this).offset(),n=(t.pageX-e.left).toFixed(0),a=(t.pageY-e.top).toFixed(0),o={x:n,y:a,button:0};r("pointer",o)}),$("#canvas-screen").mousemove(function(t){t.preventDefault();var e=$(this).offset(),n=(t.pageX-e.left).toFixed(0),a=(t.pageY-e.top).toFixed(0),o=t.which;3==o&&(o=4);var i={x:n,y:a,button:o};r("pointer",i)}),$(document).keydown(function(t){t.preventDefault();var e=a(t.which);e&&r("key",e)}),$(document).keyup(function(t){var e=t.which,n=c[e];"shift"==n?l=!1:"ctrl"==n?s=!1:"alt"==n&&(p=!1)}),i.onmessage=function(t){var e=JSON.parse(t.data);switch(e.event){case"count":$("#online-count").text(e.data.count);break;case"frame":o(e.data)}};var h=f.width/2,d=f.height/2;u.font="30pt Tahoma",u.textAlign="center",u.fillStyle="black",u.fillText("Loading screen...",h,d)},{"./keymap":2}],2:[function(t,e,n){var r={8:"backspace",9:"tab",13:"ret",16:"shift",17:"ctrl",18:"alt",19:"?",20:"caps_lock",27:"esc",32:"spc",33:"pgup",34:"pgdn",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",44:"print",45:"insert",46:"delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:"semicolon",61:"equal",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",91:"ctrl",93:"ctrl",107:"equal",109:"minus",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"num_lock",145:"scroll_lock",186:"semicolon",187:"equal",188:"comma",189:"minus",190:"dot",191:"slash",192:"apostrophe",219:"bracket_left",220:"backslash",221:"bracket_right",222:"'",224:"ctrl"};e.exports=r},{}]},{},[1]);